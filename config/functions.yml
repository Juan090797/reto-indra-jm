appointment:
  handler: src/infrastructure/handlers/appointmentHandler.handler
  events:
    - http:
        path: appointment
        method: post
    - http:
        path: appointments/{insuredId}
        method: get
    - sqs:
        arn:
          Fn::GetAtt: [AppointmentQueueSqsCompleted, Arn]
        batchSize: 5
        
appointment_pe:
  handler: src/infrastructure/handlers/appointmentPeHandler.main
  events:
    - sqs:
        arn:
          Fn::GetAtt: [AppointmentQueuePESqs, Arn]
        batchSize: 5
  environment:
    DB_HOST_PE: "mysql-pe.cudwems2iy22.us-east-1.rds.amazonaws.com"
    DB_USERNAME_PE: "admin"
    DB_PASSWORD_PE: "P4sw0rd1997"
    DB_NAME_PE: "mysql_peru"
    DB_PORT_PE: "3306"

appointment_cl:
  handler: src/infrastructure/handlers/appointmentClHandler.main
  events:
    - sqs:
        arn:
          Fn::GetAtt: [AppointmentQueueCLSqs, Arn]
        batchSize: 5
  environment:
    DB_HOST_CL: "mysql-cl.cudwems2iy22.us-east-1.rds.amazonaws.com"
    DB_USERNAME_CL: "admin"
    DB_PASSWORD_CL: "P4sw0rd1997"
    DB_NAME_CL: "mysql_chile"
    DB_PORT_CL: "3306"


