# Definición de enums primero
CountriesEnum:
  type: string
  enum:
    - PE
    - CL
  description: "Códigos ISO de países soportados"

# Esquema para POST /appointment
AppointmentRequest:
  type: object
  properties:
    insuredId:
      type: string
      example: "00005"
      description: "ID del asegurado"
    scheduleId:
      type: integer
      format: int64
      example: 1
      description: "ID del horario seleccionado"
    countryISO:
      $ref: "#/definitions/CountriesEnum"
  required:
    - insuredId
    - scheduleId
    - countryISO

# En docs/schemas.yml
AppointmentResponse:
  type: object
  properties:
    message:
      type: string
      example: "Appointments retrieved successfully"
      description: "Mensaje de estado de la operación"
    appointments:
      type: array
      items:
        type: object
        properties:
          id:
            type: string
            format: uuid
            example: "c9b70ff0-8698-4f1a-bf57-f543e721cd1b"
            description: "ID único de la cita"
          insuredId:
            type: string
            example: "00005"
            description: "ID del asegurado"
          scheduleId:
            type: integer
            example: 5
            description: "ID del horario de la cita"
          countryISO:
            $ref: "#/definitions/CountriesEnum"
          status:
            type: string
            enum:
              - PENDING
              - COMPLETED
            example: "COMPLETED"
            description: "Estado actual de la cita"
          createdAt:
            type: string
            format: date-time
            example: "2025-04-25T20:41:21.953Z"
            description: "Fecha de creación de la cita"
          updatedAt:
            type: string
            format: date-time
            example: "2025-04-25T20:41:22.236Z"
            description: "Fecha de última actualización"
        required:
          - id
          - insuredId
          - scheduleId
          - countryISO
          - status
          - createdAt
          - updatedAt